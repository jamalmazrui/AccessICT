<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Segoe UI Symbol";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.55pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:103%;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:2.8pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Calibri",sans-serif;
	color:black;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:4.8pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	color:black;
	font-weight:normal;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Calibri",sans-serif;
	color:black;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Calibri",sans-serif;
	color:black;}
.MsoChpDefault
	{font-size:12.0pt;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:115%;}
@page WordSection1
	{size:595.0pt 842.0pt;
	margin:73.3pt 68.3pt 63.8pt 56.8pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:10.7pt;
margin-left:-.25pt;line-height:107%'><span style='font-size:16.0pt;line-height:
107%'>Helsingin saavutettavuusmalli </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.65pt;
margin-left:-.25pt;line-height:107%'><span style='font-size:16.0pt;line-height:
107%'>Helsinki Model for Accessible Service Design </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:64.45pt;
margin-left:0in;text-indent:0in;line-height:107%'> </p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.25pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:18.0pt;
line-height:107%'>Modal Pattern: Notes on technical implementation </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.7pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:16.0pt;
line-height:107%'> </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:423.5pt;
margin-left:0in;text-indent:0in;line-height:107%'>            <span
style='font-size:16.0pt;line-height:107%'> </span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:0in;
margin-bottom:4.95pt;margin-left:0in;text-align:right;text-indent:0in;
line-height:107%'>Tero Pesonen </p>

<p class=MsoNormal style='margin-left:4.85in;text-indent:-36.55pt;line-height:
141%'>Contact: tpe at siteimprove.com Version: 4th March 2021 </p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt;line-height:107%'><span style='font-size:16.0pt;line-height:
107%'>Modal pattern </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
17.2pt;margin-left:-.25pt'>For implementation, please take into account all the
“Implementation” chapters of this guide: Screenreaders (chapters 2), keyboard
navigation (chapter 3), and pointer devices (chapter 4). </p>

<h1 style='margin-left:17.0pt;text-indent:-17.75pt'><span style='line-height:
107%'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Definitions
</h1>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
11.65pt;margin-left:-.25pt'>The term <b>modal</b> when used in these
instructions refers to a web page context that has the following properties. </p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:7.05pt;margin-left:
-.25pt'>Modal features </h2>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
8.0pt;margin-left:35.8pt;text-indent:-18.05pt'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>A
modal is a web page section that withholds keyboard and screen reader focus
within its content area until the modal closes.  </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
8.05pt;margin-left:35.8pt;text-indent:-18.05pt'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>That
is, when the modal opens, focus is automatically transferred into its area on
behalf of the user. The user cannot leave the modal but is constrained to
navigate only within its area or &quot;layer&quot; (e.g. a visual dialog, but
could be any shape or appearance). </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
11.65pt;margin-left:35.8pt;text-indent:-18.05pt'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>When
the modal closes (e.g. from a button within the modal), focus is normally
returned to the element that triggered the modal context from the preceding
contextual layer (another modal or the document body). Of course, a modal can
trigger a new page context to load as well. </p>

<h2 style='margin-left:-.25pt'>Modal pattern main Issues </h2>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
8.0pt;margin-left:-.25pt'>To meet the above requirements, implementors must
consider a number of issues; the main ones are: </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:35.8pt;text-indent:-18.05pt'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>How
to manage the focus transitions to/from a modal. </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
8.0pt;margin-left:35.8pt;text-indent:-18.05pt'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>How
to constrain keyboard, screen reader, and pointer devices so that the user can
operate only within the modal. </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
11.7pt;margin-left:35.8pt;text-indent:-18.05pt'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>How
to describe to assistive technology the context change that occurs when a user
enters or leaves a modal. </p>

<h2 style='margin-left:-.25pt'>Other Issues that may have to be considered </h2>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:-.25pt'>The latter point, that of describing the modal to
assistive technology, can be addressed with the correct use of Aria 1.1.
techniques. The other points, however, cannot be managed by Aria, but need to
be tackled in code, as they pertain to general web page dynamics.  </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:-.25pt'>Please note that neither keyboard nor a pointer
device when used on their own are considered assistive technology. For this
reason, the browser will not honour any Aria attributes when it receives input
from the keyboard or mouse or touch device. </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
7.85pt;margin-left:-.25pt'>It follows that developers may also have to
consider: </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:35.8pt;text-indent:-18.05pt'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>How
to deal with mouse/touch/pointer devices when the user &quot;clicks&quot;
outside the modal. </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
8.0pt;margin-left:35.8pt;text-indent:-18.05pt'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>How
to prevent &quot;lower level&quot; content defined with CSS position:absolute
from showing &quot;through&quot; a modal when rendered over the same area. </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
4.1pt;margin-left:35.8pt;text-indent:-18.05pt'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>How
to manage window scroll and other rendering issues </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:-.25pt'>Depending on the context, an existing design system
or other library component(s) may already provide solutions to these problems. </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:-.25pt'>Finally, the most important decision is to determine
when and where to use a modal in the first place in lieu of a pop-up type
context that does not confine the user. </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
17.3pt;margin-left:-.25pt'>This is a service design decision, one that should
not be treated lightly. The modal and pop-up/accordion patterns facilitate
different, sometimes even opposite, uses cases given their propensity to enable
and limit the user's progression in different ways. </p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;margin-left:
17.0pt;text-indent:-17.75pt'><span style='line-height:107%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Implementation:
Screen readers &amp; Aria 1.1 definitions </h1>

<h2 style='margin-left:-.25pt'>Mandatory attributes </h2>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
8.0pt;margin-left:-.25pt'>From Aria point of view, a modal is a container (e.g.
a div tag) with the following attributes: </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
.55pt;margin-left:36.05pt;text-indent:-18.05pt'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>role=&quot;dialog&quot;
</p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
3.9pt;margin-left:36.05pt;text-indent:-18.05pt'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>aria-modal=&quot;true&quot;
</p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:-.25pt'>When aria-modal=true is used, the screen reader is
tasked to automatically limit the user to the modal area as if it were the only
navigable content in the browser window.  </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
11.4pt;margin-left:-.25pt'>The developer, therefore, need not hide other page
content from the screen reader in code, but can rely on the assistive
technology to do this automatically. Older techniques, such as applying
aria-hidden to all content outside the modal, need no longer be employed. </p>

<h2 style='margin-left:-.25pt'>Non-mandatory attributes </h2>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
7.8pt;margin-left:-.25pt'>Additionally, the container may have the following
attributes, which provide assistive technology with the desired accessible name
and automated description(s): </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
2.0pt;margin-left:36.05pt;text-indent:-18.05pt'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>aria-label=”Modal
name”, or aria-labelledby=&quot;ID&quot;. ID refer to an element that names the
modal. </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
11.65pt;margin-left:36.05pt;text-indent:-18.05pt'><span style='font-family:
"Arial",sans-serif'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>aria-describedby=&quot;ID&quot;. ID refers to an element whose
accessible name describes the modal to the user. </p>

<h2 style='margin-left:-.25pt'>Naming </h2>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:-.25pt'>While different naming patterns befit different use
cases, according to WCAG 1.3.1, Information and Relationships, at least
aria-label or aria-labelledby should be employed for all modals. This can be
done by e.g. referencing the modal's first heading with aria-labelledby. </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:-.25pt'>In a simple modal that accepts a yes/no answer or
only informs the user of an important event, naming and focus management can
also be aligned for an even easier user experience.  </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
11.7pt;margin-left:-.25pt'>For example, aria-describedby can be used to read
the dialog content to the user, making it unnecessary for the code to place the
user's focus at the beginning of the modal or at some 'earlier' secondary
interactive element (such a cross-shaped close button at the top of the
dialog). Instead, the focus can be placed on the preferred button, which
permits the user to make the choice the modal requests without having to
navigate and peruse the dialog content -- a non-trivial task for a screen
reader user. </p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:2.45pt;margin-left:
-.25pt'>Modal with Aria attributes </h2>

<p class=MsoNormal style='margin-top:0in;margin-right:43.35pt;margin-bottom:
5.5pt;margin-left:-.25pt;line-height:104%'><span style='font-size:11.0pt;
line-height:104%;font-family:"Courier New"'>&lt;div role=&quot;dialog&quot;
aria-modal=&quot;true&quot; id=&quot;example-modal&quot;
arialabelledby=&quot;example-modal-h&quot;
aria-describedby=&quot;example-modaldescription&quot;
class=&quot;ModalWindow&quot;&gt; </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:43.35pt;margin-bottom:
5.5pt;margin-left:24.5pt;line-height:104%'><span style='font-size:11.0pt;
line-height:104%;font-family:"Courier New"'>&lt;div
class=&quot;ModalTabBarrier&quot; tabindex=&quot;0&quot;
ariahidden=&quot;true&quot;&gt; &lt;/div&gt; </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:43.35pt;margin-bottom:
5.5pt;margin-left:-.25pt;line-height:104%'><span style='font-size:11.0pt;
line-height:104%;font-family:"Courier New"'>    &lt;h2
id=&quot;example-modal-h&quot; tabindex=&quot;-1&quot;&gt;Modal
Heading&lt;/h2&gt; </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:133.1pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:146%'><span style='font-size:11.0pt;
line-height:146%;font-family:"Courier New"'>    &lt;p
id=&quot;example-modal-description&quot;&gt; ... &lt;/p&gt;     ... </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:43.35pt;margin-bottom:
5.5pt;margin-left:24.5pt;line-height:104%'><span style='font-size:11.0pt;
line-height:104%;font-family:"Courier New"'>&lt;div
class=&quot;ModalTabBarrier&quot; tabindex=&quot;0&quot;
ariahidden=&quot;true&quot;&gt;  &lt;/div&gt; </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:43.35pt;margin-bottom:
19.6pt;margin-left:-.25pt;line-height:104%'><span style='font-size:11.0pt;
line-height:104%;font-family:"Courier New"'>&lt;/div&gt; </span></p>

<h1 style='margin-left:17.0pt;text-indent:-17.75pt'><span style='line-height:
107%'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Implementation:
Keyboard focus management </h1>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:-.25pt'>While the above aria techniques will cater to the
screen reader, they will not address keyboard navigation that takes place
without assistive technology (that is, when one browses the web page using the
'TAB' key and interacts with focusable elements with Enter/Space and arrow
keys.) Nor will the Aria attributes impact non-assistive pointer devices
(mouse, touch). </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
11.7pt;margin-left:-.25pt'>There is no one right technique to manage keyboard
focus in modals. The implementation is up to the developer and
library/framework being used. That said, the demo page shows a simple and easy
to adopt method that should work in most situations. It is based on TAB
barriers / guards, and is implemented as follows. </p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:6.5pt;margin-left:
-.25pt'>Tab barriers: algorithm </h2>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
7.5pt;margin-left:36.05pt;text-indent:-17.8pt'>1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Place two TAB barriers in the modal container as its very first and very
last elements, respectively. Make sure no other content will be appended before
or after the barriers. </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
7.85pt;margin-left:36.05pt;text-indent:-17.8pt'>2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Assign each tab barrier with: </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
.55pt;margin-left:54.3pt;text-indent:-.25in'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Onfocus
event listener </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
.55pt;margin-left:54.3pt;text-indent:-.25in'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Tabindex
= &quot;0&quot; attribute </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:54.3pt;text-indent:-.25in'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>aria-hidden=&quot;true&quot;
attribute </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
7.85pt;margin-left:36.05pt;text-indent:-17.8pt'>3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Define each barrier's onfocus event as follows: </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:54.3pt;text-indent:-.25in'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Find
the first and last interactive elements (that is, keyboard focusable DOM nodes)
in the modal area. </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
11.65pt;margin-left:54.3pt;text-indent:-.25in'><span style='font-family:"Arial",sans-serif'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Command
the onfocus event to move focus (with e.g. DOMNode.focus() method) to these
interactive elements based on at which end of the modal the barrier resides;
that is, the barrier at the end of modal will when receiving focus forthwith
bounce the focus to the first (true) interactive element of the modal, and vice
versa. </p>

<h2 style='margin-left:-.25pt'>Tab management rationale </h2>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:-.25pt'>The effect of the above arrangement is that the user
will be demarcated inside a loop when navigating forward or backward with the
TAB key, unable to accidentally &quot;drop off&quot; the modal &quot;back to
the previous layer&quot;. Effectively, this will apply to keyboard navigation
the same limits aria-modal=true applies to a screenreader. </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
17.3pt;margin-left:-.25pt'>To make sure that the focus will not escape the
modal even when the user, say, clicks the address bar and then TABs back to the
page, place similar barriers (e.g. as simple node copies) also as the first and
last elements of document.body. They will similarly bounce focus back to the
modal’s first and last interactive element, respectively, giving the user the
illusion that no other content in the browser window save the modal is
focusable (till the modal is closed and the barriers, of course, removed.) </p>

<h1 style='margin-left:17.0pt;text-indent:-17.75pt'><span style='line-height:
107%'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Implementation:
Pointer devices </h1>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:-.25pt'>To manage pointer devices, many approaches can be
utilised. The simplest method, perhaps, is to create a &quot;blocking
layer&quot;, a div with position:absolute that covers the whole viewport. The
modal is then created as a child element of the blocking layer, which thus
prevents outside clicks from focusing &quot;lower layer&quot; elements as they
perforce hit the blocker div. </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:-.25pt'>If the modal can be taller vertically than the
viewport, it may be necessary to also scroll the viewport to the top upon
creating the blocker and then prevent document.body from scrolling until the
modal closes, to retain the blocker in place and to allow the window scrollbars
to scroll the modal dialog area instead of the document body &quot;below.&quot;
</p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:-.25pt'>On the demo page, an additional technique that works
without a blocking layer is also tested: This involves catching all bubbled
document.body click events and then examining, based on the source of the
element, whether that click originated from within or without the modal dialog.
With this knowledge, one can either block the event or pass it through,
effectively blocking clicks from outside the modal.  </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:-.25pt'>This examination can be done by ascending the DOM
tree from the event trigger node and checking which of the two, the modal
container or the document body, comes up first. </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:-.25pt'>Of course, one has to remember to remove the
document.body event listeners when the modal closes, so the blocking layer
technique is probably easier to use in most situations. </p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.35pt;margin-bottom:
5.55pt;margin-left:-.25pt'>This and the other techniques discussed above can be
perused in the modal element source code below; note that the author is not a
professional developer, so the code is meant to be only instructive, not
authorative on this topic. </p>

<h1 style='margin-left:17.0pt;text-indent:-17.75pt'><span style='line-height:
107%'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Examples
</h1>

<p class=MsoNormal style='margin-top:0in;margin-right:20.55pt;margin-bottom:
6.0pt;margin-left:0in;text-indent:0in;line-height:100%'>Examples can be found
on the demo page: <a href="http://siteimprove-accessibility.net/Demo/Page/"><span
style='color:#0563C1'>http://siteimprove</span></a><a
href="http://siteimprove-accessibility.net/Demo/Page/"><span style='color:#0563C1'>-</span></a><a
href="http://siteimprove-accessibility.net/Demo/Page/"><span style='color:#0563C1'>accessibility.net/Demo/Page/</span></a><a
href="http://siteimprove-accessibility.net/Demo/Page/"><span style='color:black;
text-decoration:none'> </span></a></p>

<p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'> </p>

</div>

</body>

</html>
